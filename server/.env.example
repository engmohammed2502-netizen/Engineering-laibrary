# ============================================
# إعدادات بيئة مكتبة كلية الهندسة - تم التعديل
# السيرفر: Ubuntu 24.04 (Noble)
# ============================================

# -------------------------------
# إعدادات التطبيق
# -------------------------------
NODE_ENV=production
APP_NAME="مكتبة كلية الهندسة - جامعة البحر الأحمر"
APP_VERSION=1.0.0
PORT=9000  # <--- تم التعديل: البورت الذي اخترته في السكربت و PM2
HOST=127.0.0.1  # التطبيق يعمل محلياً ويستقبل من Nginx أو NAT

# -------------------------------
# إعدادات قاعدة البيانات (متوافق مع MongoDB 7.0)
# -------------------------------
# تم التعديل: التأكد من استخدام 127.0.0.1 لضمان استقرار الاتصال المحلي
MONGODB_URI=mongodb://127.0.0.1:27017/engineering_library
MONGODB_URI_TEST=mongodb://127.0.0.1:27017/engineering_library_test

# -------------------------------
# إعدادات المصادقة
# -------------------------------
# ملاحظة: السكربت سيقوم بتوليد JWT_SECRET عشوائي تلقائياً
JWT_SECRET=975312468qq_secret_key_placeholder
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d
BCRYPT_SALT_ROUNDS=12

# حساب الروت (حسب طلبك السابق)
ROOT_USERNAME=zero
ROOT_PASSWORD=975312468qq  # <--- تم التعديل: كلمة المرور التي حددتها

# -------------------------------
# إعدادات الأمان والـ CORS
# -------------------------------
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=86400000
# تم التعديل: السماح للويندوز بالوصول للموقع (CORS)
CORS_ORIGIN=http://192.168.83.219:9000
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# -------------------------------
# إعدادات السيرفر والشبكة (NAT Settings)
# -------------------------------
# تم التعديل: IP السيرفر داخل VMWare
SERVER_IP=192.162.111.129 
SERVER_PORT=9000

# تم التعديل: IP الويندوز (Host) للوصول عبر المتصفح
WEB_IP=192.168.83.219
WEB_PORT=9000

# إعدادات الـ Gateway (للتوثيق داخل التطبيق إذا لزم)
NETWORK_GATEWAY=192.168.83.192

# -------------------------------
# إعدادات الملفات والمسارات
# -------------------------------
# تم التعديل: المسار الكامل لضمان عدم حدوث خطأ مع PM2
UPLOAD_PATH=/var/www/engineering-library/server/uploads
MAX_FILE_SIZE=157286400
ALLOWED_FILE_TYPES=pdf,doc,docx,ppt,pptx,xls,xlsx,txt,jpg,jpeg,png,gif,bmp,svg,zip,rar,7z,exe,mp4,avi,mov,wmv

# -------------------------------
# إعدادات الوقت والمنطقة
# -------------------------------
TIMEZONE=Africa/Khartoum
DEFAULT_LANGUAGE=ar

# -------------------------------
# إعدادات المنتدى (حسب طلبك: تعليقات وردود)
# -------------------------------
FORUM_MAX_MESSAGE_LENGTH=2000
FORUM_ALLOW_GUEST_VIEW=true
FORUM_ALLOW_GUEST_POST=false # الضيوف يشاهدون فقط، والاسم يسجل عند الدخول
FORUM_MODERATION_ENABLED=true
